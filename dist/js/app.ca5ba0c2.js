(function(t){function e(e){for(var n,s,o=e[0],l=e[1],u=e[2],f=0,p=[];f<o.length;f++)s=o[f],r[s]&&p.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,o=1;o<i.length;o++){var l=i[o];0!==r[l]&&(n=!1)}n&&(a.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},r={app:0},a=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},5099:function(t,e,i){},"552c":function(t,e,i){"use strict";var n=i("5099"),r=i.n(n);r.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("097d");var n=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[t._m(0),i("m-board",{directives:[{name:"show",rawName:"v-show",value:t.playing,expression:"playing"}],ref:"board",on:{restart:t.restart}}),i("options-pane",{directives:[{name:"show",rawName:"v-show",value:!t.playing,expression:"!playing"}],ref:"optionsPane",on:{gameStart:t.gameStart}})],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",[i("h1",[t._v("Image Puzzle Game")])])}],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"board"},[i("div",{staticClass:"frame-wrapper",style:t.frameSize},[t.valid?i("p",{staticClass:"win"},[t._v("Congratulations!")]):t._e(),i("div",{staticClass:"frame",style:t.frameSize},t._l(t.tiles,function(e){return i("m-tile",{key:e.position,attrs:{tile:e},on:{moveTile:t.moveTile}})}))]),i("div",{staticClass:"controls"},[i("a",{staticClass:"restart",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.restart(e)}}},[t._v("New Game")])])])},o=[],l=(i("6762"),i("2fdb"),i("7514"),i("7d3a")),u=i.n(l),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tile",class:{empty:t.tile.isEmpty},style:t.tile.styles,on:{click:t.moveTile}})},f=[],p={props:["tile"],methods:{moveTile:function(){this.$emit("moveTile",this.tile)}}},h=p,m=(i("552c"),i("2877")),d=Object(m["a"])(h,c,f,!1,null,null,null);d.options.__file="m-tile.vue";var v=d.exports,g={data:function(){return{image:null,showingOriginal:!1,size:{horizontal:0,vertical:0},tiles:[],tileSize:{width:0,height:0}}},components:{MTile:v},methods:{gameStart:function(t){var e=this,i=t.image,n=t.size;this.image=i,this.size=n;var r=new Image;r.src=i,r.onload=function(){e.tileSize.width=Math.floor(r.width/n.horizontal),e.tileSize.height=Math.floor(r.height/n.vertical),e.generateTiles(),e.shuffleTiles()}},generateTiles:function(){var t=this.size.horizontal,e=this.tileSize,i=e.width,n=e.height;this.tiles=[];for(var r=0;r<this.totalTiles;++r){var a=0===r,s=r,o=0===r?"transparent":"url(".concat(this.image,")"),l="-".concat(r%t*i,"px"),u="-".concat(Math.floor(r/t)*n,"px"),c="".concat(i,"px"),f="".concat(n,"px"),p=r,h={styles:{background:o,backgroundPositionX:l,backgroundPositionY:u,width:c,height:f,order:p},position:s,isEmpty:a};this.tiles.push(h)}},shuffleTiles:function(){for(var t=this,e=function(e,i){var n=t.tiles.find(function(t){return t.isEmpty}),r=t.tiles.filter(function(e){return t.getMovableOrders(n).includes(e.styles.order)});t.switchTiles(n,u()(r))},i=0,n=3*this.totalTiles;i<n;++i)e(i,n)},moveTile:function(t){var e=this;if(!t.isEmpty){var i=this.tiles.find(function(i){var n=e.getMovableOrders(t).includes(i.styles.order);return i.isEmpty&&n});i&&this.switchTiles(i,t)}},switchTiles:function(t,e){var i=[e.styles.order,t.styles.order];t.styles.order=i[0],e.styles.order=i[1]},getMovableOrders:function(t){var e=t.styles.order,i=this.size.horizontal,n=[e%i?e-1:null,(e+1)%i?e+1:null,e-i,e+i];return n},restart:function(){this.$emit("restart")}},computed:{frameSize:function(){var t=this.tileSize,e=t.width,i=t.height,n=this.size,r=n.horizontal,a=n.vertical;return{width:"".concat(e*r,"px"),height:"".concat(i*a,"px")}},totalTiles:function(){return this.size.horizontal*this.size.vertical},valid:function(){if(!this.tiles.length)return!1;var t=this.tiles.some(function(t){return t.styles.order!==t.position});return!t}}},b=g,y=(i("626c"),Object(m["a"])(b,s,o,!1,null,null,null));y.options.__file="m-board.vue";var z=y.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{attrs:{id:"optionsForm"},on:{submit:function(e){return e.preventDefault(),t.start(e)}}},[i("div",{staticClass:"img-wrapper"},[t.image?i("img",{attrs:{src:t.image}}):t._e()]),i("div",{staticClass:"content-wrapper"},[i("div",[i("label",{attrs:{for:"file"}},[i("span",[t._v("Select an image")]),i("input",{attrs:{type:"file",id:"file",accept:"image/gif, image/jpeg, image/png"},on:{change:t.fileChanged}})]),t.image?i("span",[i("span",[t._v("Board size:")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.size.horizontal,expression:"size.horizontal",modifiers:{number:!0}}],attrs:{type:"number",name:"width",min:"2",max:"10"},domProps:{value:t.size.horizontal},on:{input:function(e){e.target.composing||t.$set(t.size,"horizontal",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),i("span",[t._v("Ã—")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.size.vertical,expression:"size.vertical",modifiers:{number:!0}}],attrs:{type:"number",name:"height",min:"2",max:"10"},domProps:{value:t.size.vertical},on:{input:function(e){e.target.composing||t.$set(t.size,"vertical",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})]):t._e()]),t.image?i("button",[t._v("Start")]):t._e()])])},w=[],x=i("fbd1"),S=i.n(x),T={data:function(){return{image:null,size:{horizontal:3,vertical:3}}},methods:{fileChanged:function(t){var e=this;if(!t.target.files.length)return this.image=null;var i=t.target.files[0],n=function(t){return e.image=t.toDataURL()},r={maxWidth:600,maxHeight:600,minWidth:200,minHeight:200,canvas:!0};S()(i,n,r)},start:function(){var t=this.image,e=this.size,i={image:t,size:e};this.$emit("gameStart",i)},restart:function(){this.image=null,document.querySelector("#optionsForm").reset()}}},O=T,$=(i("f1ba"),Object(m["a"])(O,_,w,!1,null,null,null));$.options.__file="options-pane.vue";var P=$.exports,j={data:function(){return{playing:!1}},components:{MBoard:z,OptionsPane:P},methods:{gameStart:function(t){this.playing=!0,this.$refs.board.gameStart(t)},restart:function(){this.playing=!1,this.$refs.optionsPane.restart()}}},C=j,M=(i("e0c2"),Object(m["a"])(C,r,a,!1,null,"c19ddbde",null));M.options.__file="App.vue";var E=M.exports;i("fa6d"),i("7cde");n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(E)}}).$mount("#app")},"626c":function(t,e,i){"use strict";var n=i("8845"),r=i.n(n);r.a},"74ba":function(t,e,i){},"7cde":function(t,e,i){},8845:function(t,e,i){},ba74:function(t,e,i){},e0c2:function(t,e,i){"use strict";var n=i("74ba"),r=i.n(n);r.a},f1ba:function(t,e,i){"use strict";var n=i("ba74"),r=i.n(n);r.a}});
//# sourceMappingURL=app.ca5ba0c2.js.map